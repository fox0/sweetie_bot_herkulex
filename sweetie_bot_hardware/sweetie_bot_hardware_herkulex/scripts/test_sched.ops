import("rtt_ros");
ros.import("rtt_sensor_msgs");
import("sweetie_bot_hardware_herkulex_msgs_rtt");
import("sweetie_bot_hardware_herkulex");

loadComponent("a","HerkulexArray");
loadService("a", "marshalling");
a.marshalling.loadProperties("servos.cpf");

loadComponent("d","HerkulexDriver");

loadComponent("s","HerkulexSched");
s.poll_list = strings("test_servo");

connectOperations("a.sendPacketCM", "s.sendPacketCM");
connectOperations("s.receivePacketCM", "a.receivePacketCM");

connectOperations("s.sendPacketDL", "d.sendPacket");
connectOperations("d.receivePacket", "s.receivePacketDL");

connectServices("a","s");
